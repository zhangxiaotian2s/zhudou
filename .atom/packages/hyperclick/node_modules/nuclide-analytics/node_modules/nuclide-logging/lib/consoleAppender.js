
/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */
var util = require('util');

function layout(loggingEvent) {
  var eventInfo = util.format('[%s] [%s] %s - ', loggingEvent.startTime.toISOString(), loggingEvent.level, loggingEvent.categoryName);

  var data = loggingEvent.data.slice();

  // Since console.log support string format as first parameter, we should preserve this behavior
  // by concating eventInfo with first parameter if it is string.
  if (data.length > 0 && typeof data[0] === 'string') {
    data[0] = eventInfo + data[0];
  } else {
    data.unshift(eventInfo);
  }
  return data;
}

/**
 * Comparing to log4js's console appender(https://fburl.com/69861669), you can expand and explore
 * the object in console logged by this Appender.
 */
function consoleAppender() {
  return function (loggingEvent) {
    console.log.apply(console, layout(loggingEvent)); // eslint-disable-line no-console
  };
}

module.exports = {
  appender: consoleAppender,
  configure: consoleAppender
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLWxvZ2dpbmcvbGliL2NvbnNvbGVBcHBlbmRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7Ozs7Ozs7OztBQVVaLElBQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFN0IsU0FBUyxNQUFNLENBQUMsWUFBaUIsRUFBYztBQUM3QyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUMzQixpQkFBaUIsRUFDakIsWUFBWSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsRUFDcEMsWUFBWSxDQUFDLEtBQUssRUFDbEIsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUU3QixNQUFNLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDOzs7O0FBSXZDLE1BQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFO0FBQ2xELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQy9CLE1BQU07QUFDTCxRQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0dBQ3pCO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYjs7Ozs7O0FBTUQsU0FBUyxlQUFlLEdBQWdDO0FBQ3RELFNBQU8sVUFBQyxZQUFZLEVBQUs7QUFDdkIsV0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0dBQ2xELENBQUM7Q0FDSDs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2YsVUFBUSxFQUFFLGVBQWU7QUFDekIsV0FBUyxFQUFFLGVBQWU7Q0FDM0IsQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1sb2dnaW5nL2xpYi9jb25zb2xlQXBwZW5kZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuZnVuY3Rpb24gbGF5b3V0KGxvZ2dpbmdFdmVudDogYW55KTogQXJyYXk8YW55PiB7XG4gIGNvbnN0IGV2ZW50SW5mbyA9IHV0aWwuZm9ybWF0KFxuICAgICdbJXNdIFslc10gJXMgLSAnLFxuICAgIGxvZ2dpbmdFdmVudC5zdGFydFRpbWUudG9JU09TdHJpbmcoKSxcbiAgICBsb2dnaW5nRXZlbnQubGV2ZWwsXG4gICAgbG9nZ2luZ0V2ZW50LmNhdGVnb3J5TmFtZSk7XG5cbiAgY29uc3QgZGF0YSA9IGxvZ2dpbmdFdmVudC5kYXRhLnNsaWNlKCk7XG5cbiAgLy8gU2luY2UgY29uc29sZS5sb2cgc3VwcG9ydCBzdHJpbmcgZm9ybWF0IGFzIGZpcnN0IHBhcmFtZXRlciwgd2Ugc2hvdWxkIHByZXNlcnZlIHRoaXMgYmVoYXZpb3JcbiAgLy8gYnkgY29uY2F0aW5nIGV2ZW50SW5mbyB3aXRoIGZpcnN0IHBhcmFtZXRlciBpZiBpdCBpcyBzdHJpbmcuXG4gIGlmIChkYXRhLmxlbmd0aCA+IDAgJiYgdHlwZW9mIGRhdGFbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YVswXSA9IGV2ZW50SW5mbyArIGRhdGFbMF07XG4gIH0gZWxzZSB7XG4gICAgZGF0YS51bnNoaWZ0KGV2ZW50SW5mbyk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ29tcGFyaW5nIHRvIGxvZzRqcydzIGNvbnNvbGUgYXBwZW5kZXIoaHR0cHM6Ly9mYnVybC5jb20vNjk4NjE2NjkpLCB5b3UgY2FuIGV4cGFuZCBhbmQgZXhwbG9yZVxuICogdGhlIG9iamVjdCBpbiBjb25zb2xlIGxvZ2dlZCBieSB0aGlzIEFwcGVuZGVyLlxuICovXG5mdW5jdGlvbiBjb25zb2xlQXBwZW5kZXIoKTogKGxvZ2dpbmdFdmVudDogYW55KSA9PiB2b2lkIHtcbiAgcmV0dXJuIChsb2dnaW5nRXZlbnQpID0+IHtcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBsYXlvdXQobG9nZ2luZ0V2ZW50KSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXBwZW5kZXI6IGNvbnNvbGVBcHBlbmRlcixcbiAgY29uZmlndXJlOiBjb25zb2xlQXBwZW5kZXIsXG59O1xuIl19
