
/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

function once(fn) {
  var ret = undefined;
  return function () {
    // The type gymnastics here are so `fn` can be
    // garbage collected once we've used it.
    if (!fn) {
      return ret;
    } else {
      ret = fn.apply(this, arguments);
      fn = null;
      return ret;
    }
  };
}

module.exports = once;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLWNvbW1vbnMvbGliL29uY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOzs7Ozs7Ozs7O0FBV1osU0FBUyxJQUFJLENBQUksRUFBVyxFQUFXO0FBQ3JDLE1BQUksR0FBRyxZQUFBLENBQUM7QUFDUixTQUFPLFlBQWM7OztBQUduQixRQUFJLENBQUMsRUFBRSxFQUFFO0FBQ1AsYUFBUSxHQUFHLENBQU87S0FDbkIsTUFBTTtBQUNMLFNBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNoQyxRQUFFLEdBQUksSUFBSSxBQUFNLENBQUM7QUFDakIsYUFBTyxHQUFHLENBQUM7S0FDWjtHQUNGLENBQUM7Q0FDSDs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1jb21tb25zL2xpYi9vbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuZnVuY3Rpb24gb25jZTxUPihmbjogKCkgPT4gVCk6ICgpID0+IFQge1xuICBsZXQgcmV0O1xuICByZXR1cm4gZnVuY3Rpb24oKTogVCB7XG4gICAgLy8gVGhlIHR5cGUgZ3ltbmFzdGljcyBoZXJlIGFyZSBzbyBgZm5gIGNhbiBiZVxuICAgIC8vIGdhcmJhZ2UgY29sbGVjdGVkIG9uY2Ugd2UndmUgdXNlZCBpdC5cbiAgICBpZiAoIWZuKSB7XG4gICAgICByZXR1cm4gKHJldDogYW55KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIGZuID0gKG51bGw6IGFueSk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvbmNlO1xuIl19
