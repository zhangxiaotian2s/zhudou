'use babel';

/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

var _require = require('../lib/searchResultHelpers');

var filterEmptyResults = _require.filterEmptyResults;
var flattenResults = _require.flattenResults;

var SEARCH_RESULTS_FIXTURE = {
  searchService: {
    results: {
      shouldNotAppearInOutputFolder: {
        results: []
      },
      folderB: {
        results: [1, 2, 3]
      }
    }
  },
  symbolService: {
    results: {
      folderA: {
        results: [4, 5, 6]
      },
      shouldNotAppearInOutputFolder: {
        results: []
      }
    }
  },
  shouldNotAppearInOutputService: {
    results: {
      folderA: {
        results: []
      },
      folderB: {
        results: []
      }
    }
  }
};

describe('searchResultHelper', function () {
  describe('emptyResults', function () {
    it('does not include empty folders', function () {
      var filteredResults = filterEmptyResults(SEARCH_RESULTS_FIXTURE);

      expect(filteredResults).toEqual({
        searchService: {
          results: {
            folderB: {
              results: [1, 2, 3]
            }
          }
        },
        symbolService: {
          results: {
            folderA: {
              results: [4, 5, 6]
            }
          }
        }
      });
    });
  });

  describe('flattenResults', function () {
    it('returns an array of flattened results', function () {
      expect(flattenResults(SEARCH_RESULTS_FIXTURE)).toEqual([1, 2, 3, 4, 5, 6]);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy96aGFuZ3hpYW90aWFuLy5hdG9tL3BhY2thZ2VzL251Y2xpZGUtcXVpY2stb3Blbi9zcGVjL3NlYXJjaFJlc3VsdEhlbHBlcnMtc3BlYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7Ozs7Ozs7Ozs7ZUFjUixPQUFPLENBQUMsNEJBQTRCLENBQUM7O0lBRnZDLGtCQUFrQixZQUFsQixrQkFBa0I7SUFDbEIsY0FBYyxZQUFkLGNBQWM7O0FBR2hCLElBQU0sc0JBQXNCLEdBQUc7QUFDN0IsZUFBYSxFQUFFO0FBQ2IsV0FBTyxFQUFFO0FBQ1AsbUNBQTZCLEVBQUU7QUFDN0IsZUFBTyxFQUFFLEVBQUU7T0FDWjtBQUNELGFBQU8sRUFBRTtBQUNQLGVBQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO09BQ25CO0tBQ0Y7R0FDRjtBQUNELGVBQWEsRUFBRTtBQUNiLFdBQU8sRUFBRztBQUNSLGFBQU8sRUFBRTtBQUNQLGVBQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO09BQ25CO0FBQ0QsbUNBQTZCLEVBQUU7QUFDN0IsZUFBTyxFQUFFLEVBQUU7T0FDWjtLQUNGO0dBQ0Y7QUFDRCxnQ0FBOEIsRUFBRTtBQUM5QixXQUFPLEVBQUU7QUFDUCxhQUFPLEVBQUU7QUFDUCxlQUFPLEVBQUUsRUFBRTtPQUNaO0FBQ0QsYUFBTyxFQUFFO0FBQ1AsZUFBTyxFQUFFLEVBQUU7T0FDWjtLQUNGO0dBQ0Y7Q0FDRixDQUFDOztBQUVGLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxZQUFNO0FBQ25DLFVBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBTTtBQUM3QixNQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBTTtBQUN6QyxVQUFNLGVBQWUsR0FBRyxrQkFBa0IsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDOztBQUVuRSxZQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQzlCLHFCQUFhLEVBQUU7QUFDYixpQkFBTyxFQUFFO0FBQ1AsbUJBQU8sRUFBRTtBQUNQLHFCQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUNuQjtXQUNGO1NBQ0Y7QUFDRCxxQkFBYSxFQUFFO0FBQ2IsaUJBQU8sRUFBRTtBQUNQLG1CQUFPLEVBQUU7QUFDUCxxQkFBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDbkI7V0FDRjtTQUNGO09BQ0YsQ0FBQyxDQUFDO0tBQ0osQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFNO0FBQy9CLE1BQUUsQ0FBQyx1Q0FBdUMsRUFBRSxZQUFNO0FBQ2hELFlBQU0sQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FDcEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUNuQixDQUFDO0tBQ0gsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy96aGFuZ3hpYW90aWFuLy5hdG9tL3BhY2thZ2VzL251Y2xpZGUtcXVpY2stb3Blbi9zcGVjL3NlYXJjaFJlc3VsdEhlbHBlcnMtc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmNvbnN0IHtcbiAgZmlsdGVyRW1wdHlSZXN1bHRzLFxuICBmbGF0dGVuUmVzdWx0cyxcbn0gPSByZXF1aXJlKCcuLi9saWIvc2VhcmNoUmVzdWx0SGVscGVycycpO1xuXG5jb25zdCBTRUFSQ0hfUkVTVUxUU19GSVhUVVJFID0ge1xuICBzZWFyY2hTZXJ2aWNlOiB7XG4gICAgcmVzdWx0czoge1xuICAgICAgc2hvdWxkTm90QXBwZWFySW5PdXRwdXRGb2xkZXI6IHtcbiAgICAgICAgcmVzdWx0czogW10sXG4gICAgICB9LFxuICAgICAgZm9sZGVyQjoge1xuICAgICAgICByZXN1bHRzOiBbMSwgMiwgM10sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHN5bWJvbFNlcnZpY2U6IHtcbiAgICByZXN1bHRzIDoge1xuICAgICAgZm9sZGVyQToge1xuICAgICAgICByZXN1bHRzOiBbNCwgNSwgNl0sXG4gICAgICB9LFxuICAgICAgc2hvdWxkTm90QXBwZWFySW5PdXRwdXRGb2xkZXI6IHtcbiAgICAgICAgcmVzdWx0czogW10sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHNob3VsZE5vdEFwcGVhckluT3V0cHV0U2VydmljZToge1xuICAgIHJlc3VsdHM6IHtcbiAgICAgIGZvbGRlckE6IHtcbiAgICAgICAgcmVzdWx0czogW10sXG4gICAgICB9LFxuICAgICAgZm9sZGVyQjoge1xuICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn07XG5cbmRlc2NyaWJlKCdzZWFyY2hSZXN1bHRIZWxwZXInLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdlbXB0eVJlc3VsdHMnLCAoKSA9PiB7XG4gICAgaXQoJ2RvZXMgbm90IGluY2x1ZGUgZW1wdHkgZm9sZGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkUmVzdWx0cyA9IGZpbHRlckVtcHR5UmVzdWx0cyhTRUFSQ0hfUkVTVUxUU19GSVhUVVJFKTtcblxuICAgICAgZXhwZWN0KGZpbHRlcmVkUmVzdWx0cykudG9FcXVhbCh7XG4gICAgICAgIHNlYXJjaFNlcnZpY2U6IHtcbiAgICAgICAgICByZXN1bHRzOiB7XG4gICAgICAgICAgICBmb2xkZXJCOiB7XG4gICAgICAgICAgICAgIHJlc3VsdHM6IFsxLCAyLCAzXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3ltYm9sU2VydmljZToge1xuICAgICAgICAgIHJlc3VsdHM6IHtcbiAgICAgICAgICAgIGZvbGRlckE6IHtcbiAgICAgICAgICAgICAgcmVzdWx0czogWzQsIDUsIDZdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmbGF0dGVuUmVzdWx0cycsICgpID0+IHtcbiAgICBpdCgncmV0dXJucyBhbiBhcnJheSBvZiBmbGF0dGVuZWQgcmVzdWx0cycsICgpID0+IHtcbiAgICAgIGV4cGVjdChmbGF0dGVuUmVzdWx0cyhTRUFSQ0hfUkVTVUxUU19GSVhUVVJFKSkudG9FcXVhbChcbiAgICAgICAgWzEsIDIsIDMsIDQsIDUsIDZdXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19
//# sourceURL=/Users/zhangxiaotian/.atom/packages/nuclide-quick-open/spec/searchResultHelpers-spec.js
