

/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

var _libEditorUtils = require('../lib/editor-utils');

'use babel';

describe('editor-utils', function () {

  describe('buildLineRangesWithOffsets()', function () {
    it('returns adjusted regions and screen lines when offsets are in the middle of the lines', function () {
      var _buildLineRangesWithOffsets = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[2, 2]]), 0, 4, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets.regions;
      var screenLines = _buildLineRangesWithOffsets.screenLines;

      expect(regions).toEqual([{ bufferRows: 1, screenRows: 1 }, { bufferRows: 1, screenRows: 3 }, { bufferRows: 2, screenRows: 2 }]);
      expect(screenLines).toEqual([1, 2, 0, 0, 3, 4]);
    });

    it('returns adjusted regions and screen lines when an offset is set to the second line', function () {
      var _buildLineRangesWithOffsets2 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[1, 2]]), 0, 4, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets2.regions;
      var screenLines = _buildLineRangesWithOffsets2.screenLines;

      expect(regions).toEqual([{ bufferRows: 1, screenRows: 3 }, { bufferRows: 3, screenRows: 3 }]);
      expect(screenLines).toEqual([1, 0, 0, 2, 3, 4]);
    });

    it('returns adjusted regions and screen lines when an offset is set to the first line', function () {
      var _buildLineRangesWithOffsets3 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[0, 2]]), 0, 4, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets3.regions;
      var screenLines = _buildLineRangesWithOffsets3.screenLines;

      expect(regions).toEqual([{ bufferRows: 1, screenRows: 3 }, { bufferRows: 3, screenRows: 3 }]);
      expect(screenLines).toEqual([0, 0, 1, 2, 3, 4]);
    });

    it('returns the same regions and screen lines when start row is after all offsets', function () {
      var _buildLineRangesWithOffsets4 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[0, 2]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets4.regions;
      var screenLines = _buildLineRangesWithOffsets4.screenLines;

      expect(regions).toEqual([{ bufferRows: 4, screenRows: 4 }]);
      expect(screenLines).toEqual([1, 2, 3, 4]);
    });

    it('returns the same regions and screen lines when end row is before all offsets', function () {
      var _buildLineRangesWithOffsets5 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[9, 2]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets5.regions;
      var screenLines = _buildLineRangesWithOffsets5.screenLines;

      expect(regions).toEqual([{ bufferRows: 4, screenRows: 4 }]);
      expect(screenLines).toEqual([1, 2, 3, 4]);
    });

    it('returns adjusted regions and screen lines when start row is > 0', function () {
      var _buildLineRangesWithOffsets6 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[5, 2]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets6.regions;
      var screenLines = _buildLineRangesWithOffsets6.screenLines;

      expect(regions).toEqual([{ bufferRows: 1, screenRows: 1 }, { bufferRows: 1, screenRows: 3 }, { bufferRows: 2, screenRows: 2 }]);
      expect(screenLines).toEqual([1, 2, 0, 0, 3, 4]);
    });

    it('returns adjusted regions and screen lines when start row equals the first offset', function () {
      var _buildLineRangesWithOffsets7 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[3, 1], [8, 1]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets7.regions;
      var screenLines = _buildLineRangesWithOffsets7.screenLines;

      expect(regions).toEqual([{ bufferRows: 1, screenRows: 2 }, { bufferRows: 3, screenRows: 3 }]);
      expect(screenLines).toEqual([0, 1, 2, 3, 4]);
    });

    it('returns adjusted regions and screen lines the last offset is just before the last line requested', function () {
      var _buildLineRangesWithOffsets8 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[1, 1], [6, 1]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets8.regions;
      var screenLines = _buildLineRangesWithOffsets8.screenLines;

      expect(regions).toEqual([{ bufferRows: 2, screenRows: 2 }, { bufferRows: 1, screenRows: 2 }, { bufferRows: 1, screenRows: 1 }]);
      expect(screenLines).toEqual([1, 2, 3, 0, 4]);
    });

    it('returns adjusted regions and screen lines the last offset is the last line requested', function () {
      var _buildLineRangesWithOffsets9 = (0, _libEditorUtils.buildLineRangesWithOffsets)([1, 2, 3, 4], new Map([[1, 1], [7, 1]]), 3, 7, function () {
        return 0;
      });

      var regions = _buildLineRangesWithOffsets9.regions;
      var screenLines = _buildLineRangesWithOffsets9.screenLines;

      expect(regions).toEqual([{ bufferRows: 4, screenRows: 4 }]);
      expect(screenLines).toEqual([1, 2, 3, 4]);

      var _buildLineRangesWithOffsets10 = (0, _libEditorUtils.buildLineRangesWithOffsets)([5, 6, 7, 8], new Map([[1, 1], [7, 1]]), 7, 11, function () {
        return 0;
      });

      var followingRegions = _buildLineRangesWithOffsets10.regions;
      var followingScreenLines = _buildLineRangesWithOffsets10.screenLines;

      expect(followingRegions).toEqual([{ bufferRows: 1, screenRows: 2 }, { bufferRows: 3, screenRows: 3 }]);
      expect(followingScreenLines).toEqual([0, 5, 6, 7, 8]);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy96aGFuZ3hpYW90aWFuLy5hdG9tL3BhY2thZ2VzL251Y2xpZGUtZGlmZi12aWV3L3NwZWMvZWRpdG9yLXV0aWxzLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs4QkFXeUMscUJBQXFCOztBQVg5RCxXQUFXLENBQUM7O0FBYVosUUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFNOztBQUU3QixVQUFRLENBQUMsOEJBQThCLEVBQUUsWUFBTTtBQUM3QyxNQUFFLENBQUMsdUZBQXVGLEVBQUUsWUFBTTt3Q0FDakUsZ0RBQzdCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtlQUFNLENBQUM7T0FBQSxDQUMvQzs7VUFGTSxPQUFPLCtCQUFQLE9BQU87VUFBRSxXQUFXLCtCQUFYLFdBQVc7O0FBRzNCLFlBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FDdEIsRUFBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUMsRUFDOUIsRUFBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUMsRUFDOUIsRUFBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUMsQ0FDL0IsQ0FBQyxDQUFDO0FBQ0gsWUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNqRCxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLG9GQUFvRixFQUFFLFlBQU07eUNBQzlELGdEQUM3QixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFF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QUFDLEVBQUMsQ0FDL0IsQ0FBQyxDQUFDO0FBQ0gsWUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdkQsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy96aGFuZ3hpYW90aWFuLy5hdG9tL3BhY2thZ2VzL251Y2xpZGUtZGlmZi12aWV3L3NwZWMvZWRpdG9yLXV0aWxzLXNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2J1aWxkTGluZVJhbmdlc1dpdGhPZmZzZXRzfSBmcm9tICcuLi9saWIvZWRpdG9yLXV0aWxzJztcblxuZGVzY3JpYmUoJ2VkaXRvci11dGlscycsICgpID0+IHtcblxuICBkZXNjcmliZSgnYnVpbGRMaW5lUmFuZ2VzV2l0aE9mZnNldHMoKScsICgpID0+IHtcbiAgICBpdCgncmV0dXJucyBhZGp1c3RlZCByZWdpb25zIGFuZCBzY3JlZW4gbGluZXMgd2hlbiBvZmZzZXRzIGFyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBsaW5lcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHtyZWdpb25zLCBzY3JlZW5MaW5lc30gPSBidWlsZExpbmVSYW5nZXNXaXRoT2Zmc2V0cyhcbiAgICAgICAgWzEsIDIsIDMsIDRdLCBuZXcgTWFwKFtbMiwgMl1dKSwgMCwgNCwgKCkgPT4gMFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChyZWdpb25zKS50b0VxdWFsKFtcbiAgICAgICAge2J1ZmZlclJvd3M6IDEsIHNjcmVlblJvd3M6IDF9LFxuICAgICAgICB7YnVmZmVyUm93czogMSwgc2NyZWVuUm93czogM30sXG4gICAgICAgIHtidWZmZXJSb3dzOiAyLCBzY3JlZW5Sb3dzOiAyfSxcbiAgICAgIF0pO1xuICAgICAgZXhwZWN0KHNjcmVlbkxpbmVzKS50b0VxdWFsKFsxLCAyLCAwLCAwLCAzLCA0XSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBhZGp1c3RlZCByZWdpb25zIGFuZCBzY3JlZW4gbGluZXMgd2hlbiBhbiBvZmZzZXQgaXMgc2V0IHRvIHRoZSBzZWNvbmQgbGluZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHtyZWdpb25zLCBzY3JlZW5MaW5lc30gPSBidWlsZExpbmVSYW5nZXNXaXRoT2Zmc2V0cyhcbiAgICAgICAgWzEsIDIsIDMsIDRdLCBuZXcgTWFwKFtbMSwgMl1dKSwgMCwgNCwgKCkgPT4gMFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChyZWdpb25zKS50b0VxdWFsKFtcbiAgICAgICAge2J1ZmZlclJvd3M6IDEsIHNjcmVlblJvd3M6IDN9LFxuICAgICAgICB7YnVmZmVyUm93czogMywgc2NyZWVuUm93czogM30sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW5MaW5lcykudG9FcXVhbChbMSwgMCwgMCwgMiwgMywgNF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYWRqdXN0ZWQgcmVnaW9ucyBhbmQgc2NyZWVuIGxpbmVzIHdoZW4gYW4gb2Zmc2V0IGlzIHNldCB0byB0aGUgZmlyc3QgbGluZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHtyZWdpb25zLCBzY3JlZW5MaW5lc30gPSBidWlsZExpbmVSYW5nZXNXaXRoT2Zmc2V0cyhcbiAgICAgICAgWzEsIDIsIDMsIDRdLCBuZXcgTWFwKFtbMCwgMl1dKSwgMCwgNCwgKCkgPT4gMFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChyZWdpb25zKS50b0VxdWFsKFtcbiAgICAgICAge2J1ZmZlclJvd3M6IDEsIHNjcmVlblJvd3M6IDN9LFxuICAgICAgICB7YnVmZmVyUm93czogMywgc2NyZWVuUm93czogM30sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW5MaW5lcykudG9FcXVhbChbMCwgMCwgMSwgMiwgMywgNF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgdGhlIHNhbWUgcmVnaW9ucyBhbmQgc2NyZWVuIGxpbmVzIHdoZW4gc3RhcnQgcm93IGlzIGFmdGVyIGFsbCBvZmZzZXRzJywgKCkgPT4ge1xuICAgICAgY29uc3Qge3JlZ2lvbnMsIHNjcmVlbkxpbmVzfSA9IGJ1aWxkTGluZVJhbmdlc1dpdGhPZmZzZXRzKFxuICAgICAgICBbMSwgMiwgMywgNF0sIG5ldyBNYXAoW1swLCAyXV0pLCAzLCA3LCAoKSA9PiAwXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlZ2lvbnMpLnRvRXF1YWwoW1xuICAgICAgICB7YnVmZmVyUm93czogNCwgc2NyZWVuUm93czogNH0sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW5MaW5lcykudG9FcXVhbChbMSwgMiwgMywgNF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgdGhlIHNhbWUgcmVnaW9ucyBhbmQgc2NyZWVuIGxpbmVzIHdoZW4gZW5kIHJvdyBpcyBiZWZvcmUgYWxsIG9mZnNldHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7cmVnaW9ucywgc2NyZWVuTGluZXN9ID0gYnVpbGRMaW5lUmFuZ2VzV2l0aE9mZnNldHMoXG4gICAgICAgIFsxLCAyLCAzLCA0XSwgbmV3IE1hcChbWzksIDJdXSksIDMsIDcsICgpID0+IDBcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVnaW9ucykudG9FcXVhbChbXG4gICAgICAgIHtidWZmZXJSb3dzOiA0LCBzY3JlZW5Sb3dzOiA0fSxcbiAgICAgIF0pO1xuICAgICAgZXhwZWN0KHNjcmVlbkxpbmVzKS50b0VxdWFsKFsxLCAyLCAzLCA0XSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBhZGp1c3RlZCByZWdpb25zIGFuZCBzY3JlZW4gbGluZXMgd2hlbiBzdGFydCByb3cgaXMgPiAwJywgKCkgPT4ge1xuICAgICAgY29uc3Qge3JlZ2lvbnMsIHNjcmVlbkxpbmVzfSA9IGJ1aWxkTGluZVJhbmdlc1dpdGhPZmZzZXRzKFxuICAgICAgICBbMSwgMiwgMywgNF0sIG5ldyBNYXAoW1s1LCAyXV0pLCAzLCA3LCAoKSA9PiAwXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlZ2lvbnMpLnRvRXF1YWwoW1xuICAgICAgICB7YnVmZmVyUm93czogMSwgc2NyZWVuUm93czogMX0sXG4gICAgICAgIHtidWZmZXJSb3dzOiAxLCBzY3JlZW5Sb3dzOiAzfSxcbiAgICAgICAge2J1ZmZlclJvd3M6IDIsIHNjcmVlblJvd3M6IDJ9LFxuICAgICAgXSk7XG4gICAgICBleHBlY3Qoc2NyZWVuTGluZXMpLnRvRXF1YWwoWzEsIDIsIDAsIDAsIDMsIDRdKTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIGFkanVzdGVkIHJlZ2lvbnMgYW5kIHNjcmVlbiBsaW5lcyB3aGVuIHN0YXJ0IHJvdyBlcXVhbHMgdGhlIGZpcnN0IG9mZnNldCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHtyZWdpb25zLCBzY3JlZW5MaW5lc30gPSBidWlsZExpbmVSYW5nZXNXaXRoT2Zmc2V0cyhcbiAgICAgICAgWzEsIDIsIDMsIDRdLCBuZXcgTWFwKFtbMywgMV0sIFs4LCAxXV0pLCAzLCA3LCAoKSA9PiAwXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlZ2lvbnMpLnRvRXF1YWwoW1xuICAgICAgICB7YnVmZmVyUm93czogMSwgc2NyZWVuUm93czogMn0sXG4gICAgICAgIHtidWZmZXJSb3dzOiAzLCBzY3JlZW5Sb3dzOiAzfSxcbiAgICAgIF0pO1xuICAgICAgZXhwZWN0KHNjcmVlbkxpbmVzKS50b0VxdWFsKFswLCAxLCAyLCAzLCA0XSk7XG4gICAgfSk7XG5cbiAgICBpdCgncmV0dXJucyBhZGp1c3RlZCByZWdpb25zIGFuZCBzY3JlZW4gbGluZXMgdGhlIGxhc3Qgb2Zmc2V0IGlzIGp1c3QgYmVmb3JlIHRoZSBsYXN0IGxpbmUgcmVxdWVzdGVkJywgKCkgPT4ge1xuICAgICAgY29uc3Qge3JlZ2lvbnMsIHNjcmVlbkxpbmVzfSA9IGJ1aWxkTGluZVJhbmdlc1dpdGhPZmZzZXRzKFxuICAgICAgICBbMSwgMiwgMywgNF0sIG5ldyBNYXAoW1sxLCAxXSwgWzYsIDFdXSksIDMsIDcsICgpID0+IDBcbiAgICAgICk7XG4gICAgICBleHBlY3QocmVnaW9ucykudG9FcXVhbChbXG4gICAgICAgIHtidWZmZXJSb3dzOiAyLCBzY3JlZW5Sb3dzOiAyfSxcbiAgICAgICAge2J1ZmZlclJvd3M6IDEsIHNjcmVlblJvd3M6IDJ9LFxuICAgICAgICB7YnVmZmVyUm93czogMSwgc2NyZWVuUm93czogMX0sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW5MaW5lcykudG9FcXVhbChbMSwgMiwgMywgMCwgNF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgYWRqdXN0ZWQgcmVnaW9ucyBhbmQgc2NyZWVuIGxpbmVzIHRoZSBsYXN0IG9mZnNldCBpcyB0aGUgbGFzdCBsaW5lIHJlcXVlc3RlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHtyZWdpb25zLCBzY3JlZW5MaW5lc30gPSBidWlsZExpbmVSYW5nZXNXaXRoT2Zmc2V0cyhcbiAgICAgICAgWzEsIDIsIDMsIDRdLCBuZXcgTWFwKFtbMSwgMV0sIFs3LCAxXV0pLCAzLCA3LCAoKSA9PiAwXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlZ2lvbnMpLnRvRXF1YWwoW1xuICAgICAgICB7YnVmZmVyUm93czogNCwgc2NyZWVuUm93czogNH0sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW5MaW5lcykudG9FcXVhbChbMSwgMiwgMywgNF0pO1xuXG4gICAgICBjb25zdCB7cmVnaW9uczogZm9sbG93aW5nUmVnaW9ucywgc2NyZWVuTGluZXM6IGZvbGxvd2luZ1NjcmVlbkxpbmVzfSA9XG4gICAgICAgIGJ1aWxkTGluZVJhbmdlc1dpdGhPZmZzZXRzKFxuICAgICAgICAgIFs1LCA2LCA3LCA4XSwgbmV3IE1hcChbWzEsIDFdLCBbNywgMV1dKSwgNywgMTEsICgpID0+IDBcbiAgICAgICAgKTtcbiAgICAgIGV4cGVjdChmb2xsb3dpbmdSZWdpb25zKS50b0VxdWFsKFtcbiAgICAgICAge2J1ZmZlclJvd3M6IDEsIHNjcmVlblJvd3M6IDJ9LFxuICAgICAgICB7YnVmZmVyUm93czogMywgc2NyZWVuUm93czogM30sXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdChmb2xsb3dpbmdTY3JlZW5MaW5lcykudG9FcXVhbChbMCwgNSwgNiwgNywgOF0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19
//# sourceURL=/Users/zhangxiaotian/.atom/packages/nuclide-diff-view/spec/editor-utils-spec.js
